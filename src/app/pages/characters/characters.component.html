<div class="characters-container">
    
    <div *ngIf="error" class="error-message">{{ error }}</div>
  
    <div class="divider">
      <img src="assets/images/divider.png" width="100%" height="20px" alt="" />
    </div>
    <h2 class="content-head">CHARACTERS</h2>
    <div class="divider">
      <img src="assets/images/divider.png" width="100%" height="20px" alt="" />
    </div>

    <div *ngIf="isLoading">
        <mat-spinner></mat-spinner>
    </div>

    <div class="search-container">
        <input
          id="search-character"
          type="text"
          [(ngModel)]="filterText"
          placeholder="Search character by Name..."
          class="search-input"
        />
    </div>
  
    <div class="characters-list">
        @if(characters.length > 0){
            @for (character of characters | filterCharacters: filterText; track $index) {
                <app-character-card
                    [character]="character"
                    [routerLink]="['/character', character.id]"
                ></app-character-card>
            }
        }      
    </div>
  
    <div class="pagination-controls">
        <button (click)="goToFirstPage()" [disabled]="currentPage === 0">First Page</button>        
        <mat-paginator
          #paginator
          [length]="totalItems"
          [pageSize]="limit"
          [pageSizeOptions]="[5, 10, 20, 50]"
          (page)="onPageChange($event)"
          aria-label="Select page"
        ></mat-paginator>
        <button (click)="goToLastPage()" [disabled]="currentPage === totalItems / limit - 1">Last Page</button>
    </div>
  </div>
  